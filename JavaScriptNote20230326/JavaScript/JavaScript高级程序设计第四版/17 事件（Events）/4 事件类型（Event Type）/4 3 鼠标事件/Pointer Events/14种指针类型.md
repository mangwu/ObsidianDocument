# 14ç§æŒ‡é’ˆç±»å‹

# 4.1 pointerover äº‹ä»¶

- å½“**æŒ‡å‘è®¾å¤‡ï¼ˆpointing deviceï¼‰**ç§»åŠ¨åˆ°å…ƒç´ çš„**å‘½ä¸­æµ‹è¯•ï¼ˆ[hit test](../Pointer%20Events.md)ï¼‰**è¾¹ç•Œæ—¶ï¼Œç”¨æˆ·ä»£ç†å¿…é¡»**è§¦å‘ï¼ˆ[fire a pointer event](../Pointer%20Events.md)ï¼‰**ä¸€ä¸ªåä¸º`pointerover`çš„æŒ‡é’ˆäº‹ä»¶
- æ³¨æ„ï¼Œå…ƒç´ çš„`setPointerCapture()`æˆ–`releasePointerCapture()` æ–¹æ³•å¯èƒ½å·²ç»æ”¹å˜äº†**å‘½ä¸­æµ‹è¯•ï¼ˆ[hit test](../Pointer%20Events.md)ï¼‰**ç›®æ ‡
- è¿˜è¦æ³¨æ„ï¼Œå½“ä¸€ä¸ªæŒ‡é’ˆè¢«æ•è·æ—¶ï¼Œå®ƒè¢«è®¤ä¸ºæ€»æ˜¯åœ¨**æ•è·å…ƒç´ **çš„è¾¹ç•Œå†…ï¼Œä»¥è§¦å‘è¾¹ç•Œäº‹ä»¶
- å¯¹äºä¸æ”¯æŒ**æ‚¬åœï¼ˆ**[devices that do not support **hover](https://www.w3.org/TR/pointerevents3/#mapping-for-devices-that-do-not-support-hover)ï¼‰**çš„è®¾å¤‡ï¼Œç”¨æˆ·ä»£ç†å¿…é¡»åœ¨è§¦å‘`[pointerdown](14%E7%A7%8D%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B.md)`äº‹ä»¶ä¹‹å‰è§¦å‘`pointerover` äº‹ä»¶

**ä¾‹å­**

```jsx
const log = document.querySelector(".log");

function handler(e) {
  const item = document.createElement("div");
  item.className = "event-info";
  item.innerHTML = `...`; // è®°å½•äº‹ä»¶å±æ€§å€¼
  if (e.type.indexOf("pointer") !== -1) {
    item.innerHTML += `...`; // è®°å½•å±æ€§å€¼
  }
  log.appendChild(item);
}

const a = document.querySelector(".A");

a.addEventListener("pointerdown", handler);
a.addEventListener("pointerover", handler);
a.addEventListener("mousedown", handler);
a.addEventListener("mouseover", handler);
```

- ç”µè„‘ç«¯ï¼ˆéè§¦æ‘¸å±å¹•ï¼Œä½¿ç”¨é¼ æ ‡ï¼‰ï¼šç§»åŠ¨åˆ°ç›®æ ‡å…ƒç´ å°±ä¾æ¬¡è§¦å‘`pointerover` ï¼Œ`mouseover` äº‹ä»¶ï¼Œç„¶åè¿›è¡Œä¸€æ¬¡ç‚¹å‡»ï¼Œå†è§¦å‘`pointerdown` å’Œ`mousedown` äº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸»æŒ‡é’ˆä¼šè§¦å‘**å…¼å®¹æ€§é¼ æ ‡äº‹ä»¶**
    
    ![Mouse-pointerover.gif](14%E7%A7%8D%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B/Mouse-pointerover.gif)
    
- æ¨¡æ‹Ÿè§¦æ‘¸å±å¹•è®¾å¤‡ï¼šæ¨¡æ‹Ÿæ€ä¸‹çš„é¼ æ ‡ç§»åŠ¨ä¸å…·æœ‰**è§¦æ‘¸çš„æ•ˆæœ**ï¼Œæ‰€ä»¥ç›´æ¥ç§»è¿›ç›®æ ‡å…ƒç´ ä¸ä¼šè§¦å‘`pointerover` å’Œ`mouseover` ï¼›æŒ‰ä¸‹é¼ æ ‡æŒ‰é”®ä¼šæ¨¡æ‹Ÿæˆ**è§¦æ‘¸**æ•ˆæœï¼Œæ‰€ä»¥ä¼šç«‹å³è§¦å‘`pointerover` äº‹ä»¶ï¼ŒåŒæ—¶ä¼šè§¦å‘`[pointerdown](14%E7%A7%8D%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B.md)`äº‹ä»¶ï¼›æ¾å¼€é¼ æ ‡æŒ‰é”®è¾¾æˆä¸€æ¬¡**è§¦æ‘¸ç‚¹å‡»**ï¼Œä¼šè§¦å‘`mouseover` å’Œ`mousedown` äº‹ä»¶ï¼Œä½†æ˜¯å¦‚æœæŒ‰ä½äº‹ä»¶è¿‡é•¿ï¼Œå°±**ä¸ä¼š**è§¦å‘`mousedown` äº‹ä»¶
    
    ![Touch-pointerover.gif](14%E7%A7%8D%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B/Touch-pointerover.gif)
    

# 4.2 pointerenteräº‹ä»¶

- å½“ä¸€ä¸ªæŒ‡å‘è®¾å¤‡ç§»åŠ¨åˆ°ä¸€ä¸ªå…ƒç´ æˆ–å…¶åä»£å…ƒç´ çš„**å‘½ä¸­æµ‹è¯•ï¼ˆ[hit test](../Pointer%20Events.md)ï¼‰**è¾¹ç•Œæ—¶ï¼Œç”¨æˆ·ä»£ç†å¿…é¡»**è§¦å‘ï¼ˆ[fire a pointer event](../Pointer%20Events.md)ï¼‰**ä¸€ä¸ªåä¸º`pointerenter`çš„æŒ‡é’ˆäº‹ä»¶
- æ³¨æ„ï¼Œå…ƒç´ çš„`setPointerCapture()`æˆ–`releasePointerCapture()` æ–¹æ³•å¯èƒ½å·²ç»æ”¹å˜äº†**å‘½ä¸­æµ‹è¯•ï¼ˆ[hit test](../Pointer%20Events.md)ï¼‰**ç›®æ ‡
- è¿˜è¦æ³¨æ„ï¼Œå½“ä¸€ä¸ªæŒ‡é’ˆè¢«æ•è·æ—¶ï¼Œå®ƒè¢«è®¤ä¸ºæ€»æ˜¯åœ¨**æ•è·å…ƒç´ **çš„è¾¹ç•Œå†…ï¼Œä»¥è§¦å‘è¾¹ç•Œäº‹ä»¶
- å¯¹äºä¸æ”¯æŒ**æ‚¬åœï¼ˆ**[devices that do not support **hover](https://www.w3.org/TR/pointerevents3/#mapping-for-devices-that-do-not-support-hover)ï¼‰**çš„è®¾å¤‡ï¼Œç”¨æˆ·ä»£ç†å¿…é¡»åœ¨è§¦å‘`[pointerdown](14%E7%A7%8D%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B.md)`äº‹ä»¶ä¹‹å‰è§¦å‘`pointerenter` äº‹ä»¶
- æ­¤äº‹ä»¶ç±»å‹ä¸æŒ‡é’ˆè½¬æ¢ç±»ä¼¼ï¼Œä½†ä¸åŒä¹‹å¤„åœ¨äºå®ƒ**ä¸å†’æ³¡**ã€‚

<aside>
ğŸ“’ æ­¤äº‹ä»¶ç±»å‹ä¸[UIEVENTS]ä¸­æè¿°çš„`[mouseenter](../4%203%201%202%20%E5%9F%BA%E4%BA%8EUIEvent%E8%A7%84%E8%8C%83%E7%9A%8411%E7%A7%8D%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E8%AF%A6%E6%83%85.md)`äº‹ä»¶å’Œ[CSS21]ä¸­æè¿°çš„CSS:hoverä¼ªç±»ä¹‹é—´æœ‰ç›¸ä¼¼ä¹‹å¤„ã€‚å¹¶ä¸”`pointerenter` å’Œ`pointerleave` æ˜¯ä¸€å¯¹ç›¸åäº‹ä»¶

</aside>

**ä¾‹å­**

- å’Œ`pointerover` ä¾‹å­ç±»ä¼¼ï¼Œä½†éœ€è¦æ³¨æ„`pointerover`åœ¨`pointerenter` ä¹‹å‰è§¦å‘
    
    ```jsx
    const log = document.querySelector(".log");
    
    TouchList.prototype.map = function (callback) {
      const len = this.length;
      let res = [];
      for (let i = 0; i < len; i++) {
        res.push(callback(this[i], i, this));
      }
      return res;
    };
    
    function handler(e) {
      const item = document.createElement("div");
      item.className = "event-info";
      item.innerHTML = `æ ¹æ®äº‹ä»¶ç±»å‹è¿›è¡Œè§¦å‘è®°å½•`;
      log.appendChild(item);
    }
    
    const a = document.querySelector(".A");
    
    a.addEventListener("pointerenter", handler);
    a.addEventListener("mouseenter", handler);
    
    a.addEventListener("pointerdown", handler);
    a.addEventListener("mousedown", handler);
    a.addEventListener("click", handler);
    ```
    
    ![PC windows æ“ä½œç³»ç»Ÿ è°·æ­Œæµè§ˆå™¨](14%E7%A7%8D%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B/mouse-pointerenter.png)
    
    PC windows æ“ä½œç³»ç»Ÿ è°·æ­Œæµè§ˆå™¨
    
    ![è°·æ­Œæµè§ˆå™¨æ¨¡æ‹Ÿç§»åŠ¨è®¾å¤‡ç¯å¢ƒ](14%E7%A7%8D%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B/pointerenter.png)
    
    è°·æ­Œæµè§ˆå™¨æ¨¡æ‹Ÿç§»åŠ¨è®¾å¤‡ç¯å¢ƒ
    

# 4.3 pointerdownäº‹ä»¶

- å½“æŒ‡é’ˆè¿›å…¥**æ´»åŠ¨æŒ‰é”®çŠ¶æ€ï¼ˆ[active buttons state](../Pointer%20Events.md)ï¼‰**æ—¶ï¼Œç”¨æˆ·ä»£ç†å¿…é¡»**è§¦å‘ï¼ˆ[fire a pointer event](../Pointer%20Events.md)ï¼‰**ä¸€ä¸ªåä¸º`pointerdown`çš„æŒ‡é’ˆäº‹ä»¶
- å¯¹äºé¼ æ ‡è®¾å¤‡ï¼Œè¿™æ˜¯æŒ‡è®¾å¤‡ä»æ²¡æœ‰æŒ‰é”®åˆ‡æ¢åˆ°è‡³å°‘æŒ‰ä¸‹ä¸€ä¸ªæŒ‰é”®ã€‚
- å¯¹äºè§¦æ‘¸å±å¹•ï¼Œè¿™æ˜¯æŒ‡ä¸æ•°å­—åŒ–ä»ªï¼ˆdigitizerï¼Œè§¦æ‘¸å±ï¼‰è¿›è¡Œç‰©ç†æ¥è§¦ã€‚
- å¯¹äºè§¦æ§ç¬”æ¥è¯´ï¼Œè¿™æ˜¯æŒ‡ç¬”åœ¨æ²¡æœ‰æŒ‰ä¸‹ä»»ä½•ç¬”æŒ‰é”®çš„æƒ…å†µä¸‹ä¸æ•°å­—åŒ–ä»ªï¼ˆdigitizerï¼Œè§¦æ‘¸å±ï¼‰è¿›è¡Œç‰©ç†æ¥è§¦ï¼Œæˆ–è€…åœ¨**æ‚¬åœ**æ—¶ä»æ²¡æœ‰æŒ‰ä¸‹ï¼ˆç¬”ï¼‰æŒ‰é”®è¿‡æ¸¡åˆ°è‡³å°‘æŒ‰ä¸‹ä¸€ä¸ªï¼ˆç¬”ï¼‰æŒ‰é”®ã€‚

<aside>
ğŸ“’ å¯¹äºé¼ æ ‡(æˆ–å…¶ä»–å¤šæŒ‰é”®æŒ‡é’ˆè®¾å¤‡)ï¼Œè¿™æ„å‘³ç€`pointerdown`å’Œ`pointerup` ä¸`mousedown` å’Œ`mouseup` è§¦å‘çš„æƒ…å†µä¸ä¼šå®Œå…¨ç›¸åŒã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…**å’Œå¼¦æŒ‰é”®ï¼ˆ[chorded buttons](../Pointer%20Events.md)ï¼‰**ã€‚

</aside>

- å¯¹äº**ä¸æ”¯æŒæ‚¬åœçš„è¾“å…¥è®¾å¤‡ï¼ˆ**é™¤äº†é¼ æ ‡ä¹‹å¤–çš„å¤§å¤šæ•°è®¾å¤‡ï¼Œå¦‚è§¦æ‘¸å±ï¼Œè§¦æ‘¸å±ç”µè„‘ç­‰**ï¼‰**ï¼Œç”¨æˆ·ä»£ç†è¿˜å¿…é¡»åœ¨åˆ†æ´¾`pointerdown`ä¹‹å‰æŒ‰é¡ºåºè§¦å‘ä¸€ä¸ªåä¸º`pointerover`çš„æŒ‡é’ˆäº‹ä»¶ï¼Œç„¶åæ˜¯ä¸€ä¸ªåä¸º`pointerenter`çš„æŒ‡é’ˆäº‹ä»¶ï¼ˆæŸ¥çœ‹`pointerover`[ç¬¬4æ¡](14%E7%A7%8D%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B.md)ï¼Œå’Œ`pointerenter` [ç¬¬4æ¡](14%E7%A7%8D%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B.md)ï¼‰

<aside>
ğŸ“’ å¼€å‘è€…å¯ä»¥é€šè¿‡å–æ¶ˆ`pointerdown`äº‹ä»¶(å¦‚æœ`isPrimary`å±æ€§ä¸ºtrue)æ¥é˜»æ­¢æŸäº›**å…¼å®¹æ€§é¼ æ ‡äº‹ä»¶ï¼ˆ[compatibility mouse events](https://www.w3.org/TR/pointerevents3/#dfn-compatibility-mouse-events)ï¼‰**çš„è§¦å‘ã€‚è¿™ç›¸å½“äºåœ¨æŒ‡é’ˆä¸Šè®¾ç½®äº†*PREVENT MOUSE EVENTï¼ˆé˜»æ­¢é¼ æ ‡äº‹ä»¶ï¼‰*ã€‚ä½†æ˜¯è¯·æ³¨æ„ï¼Œè¿™å¹¶ä¸èƒ½é˜»æ­¢è§¦å‘`mouseover`ã€`mouseenter`ã€`mouseout`æˆ–`mouseleave`äº‹ä»¶ã€‚

</aside>

**ä¾‹å­**

- è°ƒç”¨`pointerdown` äº‹ä»¶å¯¹è±¡çš„`preventDefault()` æ–¹æ³•ï¼Œé˜»æ­¢[é»˜è®¤è¡Œä¸º](../Pointer%20Events.md)ï¼ˆä¹Ÿå°±æ˜¯é˜»æ­¢åç»­çš„å…¼å®¹æ€§é¼ æ ‡äº‹ä»¶ï¼‰
    
    ```jsx
    const log = document.querySelector(".log");
    
    TouchList.prototype.map = function (callback) {
      const len = this.length;
      let res = [];
      for (let i = 0; i < len; i++) {
        res.push(callback(this[i], i, this));
      }
      return res;
    };
    
    function handler(e) {
      const item = document.createElement("div");
      item.className = "event-info";
      item.innerHTML = `...` // è¿›è¡Œä¸€æ¬¡äº‹ä»¶è®°å½•
      log.appendChild(item);
    }
    
    const a = document.querySelector(".A");
    const b = document.querySelector(".B");
    
    a.addEventListener("pointerdown", (e) => {
      e.preventDefault();
      handler(e);
    });
    a.addEventListener("mousedown", handler);
    a.addEventListener("click", handler);
    
    b.addEventListener("pointerdown", handler);
    b.addEventListener("mousedown", handler);
    b.addEventListener("click", handler);
    ```
    
    ![mouse-pointerdown.gif](14%E7%A7%8D%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B/mouse-pointerdown.gif)
    
    - Aå…ƒç´ çš„`pointerdown` äº‹ä»¶è°ƒç”¨äº†`e.preventDefault()` é˜»æ­¢äº†é»˜è®¤è¡Œä¸ºï¼Œæ‰€ä»¥ä¸ä¼šè§¦å‘åç»­çš„é¼ æ ‡å…¼å®¹æ€§äº‹ä»¶ï¼ˆ`mousedown`ï¼‰
    - Bå…ƒç´ æ­£å¸¸ç‚¹å‡»ï¼Œ`pointerdown` å…ˆäº`mousedown` è§¦å‘ï¼ŒäºŒè€…éƒ½ä¼šè§¦å‘`click` äº‹ä»¶

# 4.4 pointermove äº‹ä»¶

- å½“æŒ‡é’ˆæ›´æ”¹ï¼ˆå¦‚ä½ç½®ï¼Œæ–¹å‘ç­‰ï¼‰ä»»ä½•æœªè§¦å‘ `pointerdown` æˆ– `pointerup`äº‹ä»¶çš„å±æ€§æ—¶ï¼Œç”¨æˆ·ä»£ç†å¿…é¡»è§¦å‘ä¸€ä¸ªåä¸º `pointermove`çš„æŒ‡é’ˆäº‹ä»¶ã€‚è¿™åŒ…æ‹¬å¯¹åæ ‡ï¼ˆcoordinatesï¼‰ã€å‹åŠ›ï¼ˆpressureï¼‰ã€åˆ‡å‘å‹åŠ›ï¼ˆtangential pressureï¼‰ã€å€¾æ–œï¼ˆtiltï¼‰ã€æ‰­è½¬ï¼ˆtwistï¼‰ã€æ¥è§¦ç‚¹å‡ ä½•å½¢çŠ¶(å³`width`å’Œ`height`)æˆ–å’Œå¼¦æŒ‰é”®ï¼ˆ[chorded buttons](../Pointer%20Events.md)ï¼‰çš„ä»»ä½•æ›´æ”¹
- ç”¨æˆ·ä»£ç†å¯èƒ½ä¼šå»¶è¿Ÿ`pointermove`äº‹ä»¶çš„åˆ†æ´¾ï¼ˆä¾‹å¦‚ï¼Œå‡ºäºæ€§èƒ½åŸå› ï¼‰
- åˆå¹¶äº‹ä»¶ï¼ˆ[coalesced events](https://www.w3.org/TR/pointerevents3/#dfn-coalesced-events)ï¼‰ä¿¡æ¯å°†é€šè¿‡`getCoalescedEvents()`æ–¹æ³•ä¸ºå•ä¸ªåˆ†æ´¾çš„`pointermove`äº‹ä»¶å…¬å¼€ã€‚è¿™äº›äº‹ä»¶çš„æœ€ç»ˆåæ ‡åº”è¯¥ç”¨äºæŸ¥æ‰¾äº‹ä»¶çš„ç›®æ ‡ã€‚
    
    > è¿™æ®µè¯æè¿°äº†ä¸€ä¸ªæ–¹æ³• **`getCoalescedEvents()`** ä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒæ¥ç¡®å®šäº‹ä»¶çš„ç›®æ ‡ã€‚å…·ä½“æ¥è¯´ï¼Œå½“å•ä¸ª **`pointermove`** äº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œè¯¥äº‹ä»¶å¯èƒ½ä¼šæœ‰å¤šä¸ªå…³è”äº‹ä»¶ï¼Œè¿™äº›äº‹ä»¶å¯èƒ½è¢«åˆå¹¶ä¸ºä¸€ä¸ªäº‹ä»¶åºåˆ—ï¼Œå¯ä»¥é€šè¿‡ **`getCoalescedEvents()`** æ–¹æ³•è·å¾—è¿™ä¸ªåºåˆ—ã€‚
    > 
    > 
    > åœ¨è¿™ä¸ªäº‹ä»¶åºåˆ—ä¸­ï¼Œæ¯ä¸ªäº‹ä»¶éƒ½ä¼šåŒ…å«ä¸€ä¸ªæœ€ç»ˆçš„åæ ‡å€¼ï¼Œè¿™äº›åæ ‡å€¼åº”è¯¥è¢«ç”¨äºç¡®å®šäº‹ä»¶çš„ç›®æ ‡ã€‚å› æ­¤ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ **`getCoalescedEvents()`** æ–¹æ³•è·å–äº‹ä»¶åºåˆ—ï¼Œå¹¶ä½¿ç”¨åºåˆ—ä¸­æœ€åä¸€ä¸ªäº‹ä»¶çš„åæ ‡æ¥ç¡®å®šäº‹ä»¶çš„ç›®æ ‡ã€‚
    > 

**ä¾‹å­**

```jsx
const log = document.querySelector(".log");

function handler(e) {
  const item = document.createElement("div");
  item.className = "event-info";
  item.innerHTML = `äº‹ä»¶è®°å½•`;
  log.appendChild(item);
}

const a = document.querySelector(".A");

function debounce(func, delay = 100) {
  let timer = null;
  return function (...args) {
    if (timer) clearTimeout(timer);
    timer = setTimeout(() => {
      func.apply(this, args);
    }, delay);
  };
}
const debounceHander = debounce(handler);

a.addEventListener("pointermove", (e) => {
  const coalescedEvents = e.getCoalescedEvents();
  // const item = document.createElement("div");
  // item.className = "base";
  // item.textContent = `coalescedEventsé•¿åº¦ï¼š${coalescedEvents.length}`;
  // log.appendChild(item);
  console.log(coalescedEvents);
  for (let i = 0; i < coalescedEvents.length; i++) {
    debounceHander(coalescedEvents[i]);
  }
});
```

![pointmove.png](14%E7%A7%8D%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B/pointmove.png)

- è¿™é‡Œä½¿ç”¨äº†é˜²æŠ–å‡½æ•°ï¼Œå°†`handler` äº‹ä»¶å¤„ç†ç¨‹åºè½¬ä¸º100mså†…çš„è¿ç»­è§¦å‘æœ€ç»ˆåªä¼šè®°å½•ä¸€æ¬¡
- æ‰“å°çš„`coalescedEvents` å˜é‡æ˜¯ä¿å­˜åˆå¹¶äº‹ä»¶çš„æ•°ç»„ï¼Œå®ƒçš„é•¿åº¦ä¸ä¸€ï¼Œå¦‚ä¸‹
    
    ```jsx
    Array(5)[PointerEvent]
    Array(6)[PointerEvent]
    Array(6)[PointerEvent]
    Array(1)[PointerEvent]
    ```
    

# 4.5 pointerrawupdate äº‹ä»¶

- ç”¨æˆ·ä»£ç†å¿…é¡»è§¦å‘ä¸€ä¸ªåä¸º`pointerrawupdate`çš„æŒ‡é’ˆäº‹ä»¶ï¼Œå¹¶ä¸”åªåœ¨**å®‰å…¨ä¸Šä¸‹æ–‡**ï¼ˆ**secure context**ï¼‰ä¸­æ‰§è¡Œï¼Œä»…åœ¨**æŒ‡é’ˆæ›´æ”¹ï¼ˆpointer changeï¼Œ**å¦‚ä½ç½®ï¼Œæ–¹å‘ç­‰**ï¼‰**ä»»ä½•ä¸è§¦å‘`pointerdown`æˆ–`pointerup`äº‹ä»¶çš„å±æ€§æ—¶æ‰è¿™æ ·åšã€‚è¯·å‚é˜…`pointermove`äº‹ä»¶ä»¥è·å–æ­¤ç±»å±æ€§çš„åˆ—è¡¨ã€‚
    - å’Œ`pointermove`ç±»ä¼¼ï¼Œç§»åŠ¨æŒ‡é’ˆä¼šä¼šè¿ç»­è§¦å‘`pointerrawupdate` äº‹ä»¶ï¼Œåœ¨`pointermove` äº‹ä»¶ä¸­ä»‹ç»äº†è¿™äº›[å±æ€§æ›´æ”¹](14%E7%A7%8D%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B.md)
    - `pointerrawupdate`äº‹ä»¶é€šå¸¸ç”¨äºå®ç°é«˜çº§çš„äº¤äº’æ•ˆæœï¼Œä¾‹å¦‚æ‰‹å†™ç¬”çš„ä¹¦å†™ã€ç»˜å›¾ã€æ‰‹åŠ¿è¯†åˆ«ç­‰ã€‚é€šè¿‡ç›‘å¬`pointerrawupdate`äº‹ä»¶ï¼Œå¼€å‘è€…å¯ä»¥è·å–åˆ°æŒ‡é’ˆè®¾å¤‡çš„**åŸå§‹è¾“å…¥æ•°æ®**ï¼Œä»è€Œå®ç°æ›´åŠ ç²¾ç»†çš„äº¤äº’æ•ˆæœã€‚
- ä¸`pointermove`ç›¸åï¼Œç”¨æˆ·ä»£ç†åº”è¯¥å°½å¯èƒ½**å¿«**åœ°æ´¾å‘`pointerrawupdate`äº‹ä»¶ï¼Œå¹¶ä¸”è¦å°½å¯èƒ½**é¢‘ç¹åœ°**æ´¾å‘JavaScriptå¯ä»¥å¤„ç†çš„äº‹ä»¶
- `pointerrawupdate`äº‹ä»¶çš„ç›®æ ‡å¯èƒ½ä¸`pointermove`äº‹ä»¶ä¸åŒï¼Œå› ä¸ºæŒ‡é’ˆç§»åŠ¨äº‹ä»¶å¯èƒ½ä¼šå»¶è¿Ÿæˆ–**åˆå¹¶**(**coalesced**)ï¼Œå¹¶ä¸”ç”¨äºæŸ¥æ‰¾ç›®æ ‡(*target*)çš„äº‹ä»¶çš„æœ€ç»ˆä½ç½®å¯èƒ½ä¸å®ƒçš„åˆå¹¶äº‹ä»¶ä¸åŒ
- æ³¨æ„ï¼Œå¦‚æœå·²ç»æœ‰å¦ä¸€ä¸ªå…·æœ‰ç›¸åŒ`pointerId`çš„`pointerrawupdate`æ²¡æœ‰åœ¨**äº‹ä»¶å¾ªç¯ï¼ˆ**[event loop](https://html.spec.whatwg.org/multipage/webappapis.html#event-loop)**ï¼‰**ä¸­æ´¾å‘ï¼Œç”¨æˆ·ä»£ç†å¯èƒ½ä¼šå°†æ–°çš„`pointerrawupdate`ä¸**è¯¥äº‹ä»¶**åˆå¹¶ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ–°ä»»åŠ¡ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´`pointerrawupdate`å…·æœ‰åˆå¹¶äº‹ä»¶ï¼Œå¹¶ä¸”ä¸€æ—¦äº‹ä»¶åœ¨**äº‹ä»¶å¾ªç¯ï¼ˆ**[event loop](https://html.spec.whatwg.org/multipage/webappapis.html#event-loop)**ï¼‰**ä¸­è¢«å¤„ç†ï¼Œå®ƒä»¬å°†å…¨éƒ¨ä½œä¸ºä¸€ä¸ª`pointerrawupdate`äº‹ä»¶çš„åˆå¹¶äº‹ä»¶ï¼ˆ[coalesced events](https://www.w3.org/TR/pointerevents3/#dfn-coalesced-events)ï¼‰äº¤ä»˜ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…`getCoalescedEvents()`
    - äº‹ä»¶å¾ªç¯æ˜¯æŒ‡æµè§ˆå™¨åœ¨æ‰§è¡ŒJavaScriptä»£ç æ—¶ï¼Œä¼šå°†æ‰€æœ‰çš„äº‹ä»¶æ”¾å…¥ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œç„¶åæŒ‰ç…§é¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯äº‹ä»¶å¾ªç¯
    - åˆ›å»º`pointerrawupdate`çš„åˆå¹¶äº‹ä»¶æ˜¯ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œé¿å…é¢‘ç¹åœ°è§¦å‘äº‹ä»¶é€ æˆæ€§èƒ½é—®é¢˜ã€‚å¦‚æœæœ‰å¤šä¸ªç›¸åŒ`pointerId`çš„`pointerrawupdate`äº‹ä»¶åœ¨åŒä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­è¢«è§¦å‘ï¼Œæµè§ˆå™¨å¯ä»¥å°†å®ƒä»¬åˆå¹¶æˆä¸€ä¸ªäº‹ä»¶ï¼Œç„¶åä¸€æ¬¡æ€§å¤„ç†ï¼Œè¿™æ ·å¯ä»¥å‡å°‘äº‹ä»¶çš„è§¦å‘æ¬¡æ•°ï¼Œæé«˜æ€§èƒ½
- åœ¨`pointerrawupdate`å’Œ`pointermove`çš„æ’åºæ–¹é¢ï¼Œå¦‚æœç”¨æˆ·ä»£ç†ä»å¹³å°æ¥æ”¶åˆ°çš„æ›´æ–°åŒæ—¶å¼•èµ·äº†`pointerrawupdate`å’Œ`pointermove`äº‹ä»¶ï¼Œé‚£ä¹ˆç”¨æˆ·ä»£ç†å¿…é¡»åœ¨ç›¸åº”çš„`pointermove`äº‹ä»¶**ä¹‹å‰**åˆ†æ´¾`pointerrawupdate`äº‹ä»¶ã€‚
- é™¤äº†ç›®æ ‡ä¹‹å¤–ï¼Œè‡ªä¸Šä¸€ä¸ª`pointermove`äº‹ä»¶ä»¥æ¥æ‰€æœ‰å·²åˆ†æ´¾çš„æŒ‡é’ˆæ›´æ–°äº‹ä»¶çš„åˆå¹¶äº‹ä»¶åˆ—è¡¨ä¸ä¸‹ä¸€ä¸ªæŒ‡é’ˆç§»åŠ¨äº‹ä»¶çš„åˆå¹¶äº‹ä»¶åœ¨å…¶ä»–äº‹ä»¶å±æ€§æ–¹é¢ç›¸åŒã€‚pointerrawupdateçš„å±æ€§ä¸pointermoveåŸºæœ¬ç›¸åŒï¼Œé™¤äº†cancelableï¼Œè¿™ä¸ªå±æ€§å¯¹äºpointerrawupdateå¿…é¡»ä¸ºfalseã€‚