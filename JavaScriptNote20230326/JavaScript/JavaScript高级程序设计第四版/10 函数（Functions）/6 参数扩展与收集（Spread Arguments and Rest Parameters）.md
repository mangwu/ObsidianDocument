# 6. å‚æ•°æ‰©å±•ä¸æ”¶é›†ï¼ˆSpread Arguments and Rest Parametersï¼‰

ES6æ–°å¢äº†**æ‰©å±•æ“ä½œç¬¦**ï¼ˆ**spread operator**ï¼‰ï¼Œä½¿ç”¨å®ƒå¯ä»¥éå¸¸**ç®€æ´**ï¼ˆ**elegant**ï¼‰åœ°æ“ä½œå’Œç»„åˆ**é›†åˆæ•°æ®**ï¼ˆ**collections**ï¼‰

æ‰©å±•æ“ä½œç¬¦æœ€æœ‰ç”¨åœ°åœºæ™¯å°±æ˜¯å‡½æ•°å®šä¹‰ä¸­çš„å‚æ•°åˆ—è¡¨ï¼ˆå‡½æ•°ç­¾åï¼‰ï¼Œå®ƒå……åˆ†åˆ©ç”¨JavaScriptçš„å¼±ç±»å‹åŠå‚æ•°é•¿åº¦å¯å˜çš„ç‰¹ç‚¹

æ‰©å±•æ“ä½œç¬¦æ—¢å¯ä»¥ç”¨äºè°ƒç”¨å‡½æ•°æ—¶ä¼ é€’å‚æ•°ï¼Œä¹Ÿå¯ä»¥ç”¨äºå®šä¹‰å‡½æ•°å‚æ•°

# 6.0 å…³äºECMAScriptä¸­çš„Argumentså’ŒParameters

- *Arguments* å’Œ *Parameters* åœ¨é€šå¸¸æƒ…å†µä¸‹æ˜¯å¯ä»¥äº’ç›¸ä½¿ç”¨çš„ï¼Œå³éƒ½è¡¨ç¤ºå‚æ•°çš„æ„æ€
- ä½†æ˜¯åœ¨å¤§å¤šæ•°çš„æ ‡å‡†ä¸­ï¼Œè¿™ä¸¤ä¸ªè¿˜æ˜¯æœ‰åŒºåˆ«çš„
    - *Parameters* è¡¨ç¤º**å½¢å¼å‚æ•°**ï¼ŒæŒ‡**å£°æ˜å‡½æ•°ä½¿ç”¨çš„å‚æ•°**,å³å‘½åå‚æ•°
    - *Arguments* è¡¨ç¤º**å®é™…å‚æ•°**ï¼ŒæŒ‡åœ¨**å‡½æ•°å®é™…è°ƒç”¨æ—¶ä¼ å…¥çš„ç¡®å®šå€¼**
- ä¾‹å¦‚
    
    ```jsx
    function demo(a, b) {
    	console.log(a, b);
    }
    demo(1,2);
    ```
    
    - `a`, `b` æ˜¯å‡½æ•°çš„å½¢å¼å‚æ•°ï¼Œå³*Parameters*
    - 1ï¼Œ2æ˜¯å‡½æ•°çš„å®é™…å‚æ•°ï¼Œå³*Arguments*

# 6.1 æ‰©å±•å‚æ•°ï¼ˆSpread Argumentsï¼‰

- æ‰©å±•å‚æ•°æŒ‡åœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¯ä»¥åˆ©ç”¨æ‰©å±•æ“ä½œç¬¦ï¼ˆ`â€¦`ï¼‰æ‰©å±•å®é™…å‚æ•°ï¼ˆ*Arguments*ï¼‰ï¼Œä»¥è¾¾åˆ°åªä½¿ç”¨å°‘æ•°çš„å®é™…å‚æ•°ï¼ˆ*Arguments*ï¼‰ï¼Œä¼ é€’åˆ°å¤šæ•°å½¢å¼å‚æ•°ï¼ˆ*Parameters*ï¼‰çš„ç›®çš„

**ä»ä¾‹å­å‡ºå‘**

- ä¸€ä¸ªå‡½æ•°éœ€è¦åˆ†åˆ«ä¼ é€’å¤šä¸ªå‚æ•°ï¼Œè€Œè¿™å¤šä¸ªå‚æ•°æ­£å¥½åœ¨ç»„åˆåœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå‡è®¾æœ‰å¦‚ä¸‹å‡½æ•°å®šä¹‰ï¼Œå®ƒå°†æ‰€æœ‰ä¼ å…¥çš„å‚æ•°ç´¯åŠ èµ·æ¥
    
    ```jsx
    function getSum() {
    	let sum = 0;
    	for(const item of arguments) {
    		sum+=item;
    	}
    	return sum;
    }
    ```
    
    - è¿™ä¸ªå‡½æ•°å¸Œæœ›æ‰€æœ‰åŠ æ•°é€ä¸ªä¼ å…¥ï¼Œç„¶åé€šè¿‡è¿­ä»£`arguments` å¯¹è±¡å®ç°ç´¯è®¡
    - è¿™ä¸ªæ—¶å€™å¼€å‘è€…å¾—åˆ°ä¸€ä¸ªæ•°ç»„ï¼Œéœ€è¦è®¡ç®—æ•°ç»„ä¸­å…ƒç´ ä¹‹å’Œï¼Œä½¿ç”¨ä¸Šè¿°çš„`getSum()` æ— æ³•è¿›è¡Œç›´æ¥ä¼ é€’ï¼Œå¦‚æœä¸ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦ï¼Œæƒ³è¦å°†å®é™…å‚æ•°ï¼ˆæ•°ç»„ï¼‰è¿›è¡Œ**æ‹†åˆ†**ï¼ˆ**flatternï¼Œ**ä¹Ÿç§°â€œæ‰“å¹³â€ï¼‰ä¼ å…¥å‡½æ•°ä¸­ï¼Œå°±å¾—åº”ç”¨`apply()` æ–¹æ³•äº†
        
        ```jsx
        let values = [1,2,3,4];
        console.log(getSum.apply(null ,values)); // 10
        ```
        
- ä½†æ˜¯åœ¨ES6ä¸­ï¼Œå°±å¯ä»¥é€šè¿‡æ‰©å±•æ“ä½œç¬¦æä¸º**ç®€æ´**ï¼ˆ**succinctly**ï¼‰å®ç°è¿™ç§â€œæ‰“å¹³â€æ“ä½œï¼šå¯¹å¯è¿­ä»£å¯¹è±¡ï¼ˆå®é™…å‚æ•°ï¼‰åº”ç”¨æ‰©å±•æ“ä½œç¬¦ï¼Œç„¶åå°†å…¶ä½œä¸ºå•ä¸ªå‚æ•°ä¼ å…¥ï¼›è¿™ç§æ–¹å¼å¯ä»¥å°†å¯è¿­ä»£å¯¹è±¡**æ‹†åˆ†**ï¼ˆ**break apart**ï¼‰ä¸ºNä¸ªå€¼ï¼Œå¹¶å°†è¿­ä»£è¿”å›çš„Nä¸ªå€¼é€ä¸ªè¿›è¡Œä¼ å…¥
    
    ```jsx
    getSum(...values); // 10
    // ç­‰ä»·äº
    getSum(1,2,3,4);
    ```
    
    - `...values` ç›¸å½“äºå°†å¯è¿­ä»£å¯¹è±¡`values` è¿›è¡Œæ‹†åˆ†ï¼Œå˜æˆäº† `1,2,3,4` ï¼Œæ ¹æ®`value` çš„å…ƒç´ é¡ºåºå’Œä¸ªæ•°ä¸åŒï¼Œæ‹†åˆ†å¾—åˆ°çš„ç»“æœä¹Ÿä¸åŒ

**ç»„åˆä½¿ç”¨**

- å› ä¸ºä½¿ç”¨æ‰©å±•æ“ä½œç¬¦æ‰©å±•**å¯è¿­ä»£çš„å®é™…å‚æ•°**ç›¸å½“äºæ‹†åˆ†å¯è¿­ä»£å¯¹è±¡ä¸º**N sizeçš„åˆ†ç¦»å®é™…å‚æ•°**ï¼ˆ**N separate arguments**ï¼‰è¿›è¡Œä¼ é€’ï¼Œè¿™ä¸ªNæ ¹æ®æ‰©å±•å‚æ•°è€Œç¡®å®šï¼Œæ‰€ä»¥ä¸ä¼šå¦¨ç¢åœ¨å…¶å‰é¢æˆ–åé¢å†ä¼ å…¥å…¶ä»–çš„å€¼ï¼Œ**åŒ…æ‹¬ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦ä¼ å…¥å…¶ä»–å¯è¿­ä»£çš„å®é™…å‚æ•°**
    
    ```jsx
    console.log(getSum(**3, 5, ...values, ...[-3, -8, 9], 2, 5**)); // 23
    ```
    
- ä¸Šé¢è¿™ä¸ªä¾‹å­ç­‰ä»·äºä¼ å…¥äº†`(3,5,1,2,3,4,-3,-8,9,2,5)` ï¼Œå¯¹äºå‡½æ•°ä½“ä¸­çš„`arguments` å¯¹è±¡è€Œè¨€ï¼Œå®ƒå¾—åˆ°çš„å°±æ˜¯æŒ‰ç…§è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥çš„**å·²è¢«æ‹†åˆ†**ï¼ˆ**being broken apart**ï¼‰æˆ**åˆ†ç¦»å½¢å¼**ï¼ˆ**separate pieces**ï¼‰çš„å‚æ•°ï¼Œå³`(3,5,1,2,3,4,-3,-8,9,2,5)` ï¼Œè€Œä¸ä¼šçŸ¥é“æ‰©å±•æ“ä½œç¬¦çš„å­˜åœ¨

**å‘½åå‚æ•°åŒæ ·é€‚ç”¨**

- ä¸Šé¢çš„ä¾‹å­ä»æ•´ä½“æ¥çœ‹å°±æ˜¯ä½¿ç”¨`arguments` æ¶ˆè´¹æ‰©å±•æ“ä½œç¬¦ï¼Œåœ¨æ™®é€šå‡½æ•°å’Œç®­å¤´å‡½æ•°ä¸­ï¼Œä¹Ÿå¯ä»¥å°†æ‰©å±•æ“ä½œç¬¦ç”¨äºå‘½åå‚æ•°ï¼ˆnamed parametersï¼‰ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤å‚æ•°ï¼Œå› ä¸ºæ‰©å±•å‚æ•°çš„æœ¬è´¨å°±æ˜¯**ä½¿ç”¨å°‘æ•°çš„å®é™…å‚æ•°ï¼ˆ*Arguments*ï¼‰ï¼Œä¼ é€’åˆ°å¤šæ•°å½¢å¼å‚æ•°ï¼ˆ*Parameters*ï¼‰**
    
    ```jsx
    function getProduct(a, b, c = 1) {
      return a * b * c;
    }
    let getThreeSum = (a, b, c = 0) => {
      return a + b + c;
    };
    console.log(getProduct(...[1, 2])); // 2
    console.log(getProduct(...[1, 2, 3])); // 6
    console.log(getProduct(...[1, 2, 3, 4])); // 6
    
    console.log(getThreeSum(...[1, 2])); // 3
    console.log(getThreeSum(...[1, 2, 3])); // 6
    console.log(getThreeSum(...[1, 2, 3, 4])); // 6
    ```
    

# 6.2 æ”¶é›†å‚æ•°ï¼ˆRest Parameterï¼‰

- æ”¶é›†å‚æ•°ï¼ˆRest Parameterï¼‰æŒ‡çš„æ˜¯åœ¨å‡½æ•°å®šä¹‰æ—¶ï¼Œä½¿ç”¨æ‰©å±•æ“ä½œç¬¦æŠŠä¸åŒé•¿åº¦çš„ç‹¬ç«‹**å½¢å¼å‚æ•°**ï¼ˆ***Parameters***ï¼‰ç»„åˆæˆä¸€ä¸ªæ•°ç»„ï¼Œè¿™ç±»ä¼¼äº`arguments` å¯¹è±¡çš„æ„é€ æœºåˆ¶ï¼ˆworksï¼‰ï¼Œä½†æ˜¯æ”¶é›†å‚æ•°çš„ç»“æœæ˜¯å¾—åˆ°äº†ä¸€ä¸ª`Array` ç±»å‹çš„**å½¢å¼å‚æ•°**ï¼ˆ***Parameters***ï¼‰ã€`arguments` æ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„`Arguments` ç±»å‹å®ä¾‹ã€‘

**ä¾‹å­**

- 6.1ä¸­çš„`getSum` å‡½æ•°å¯ä»¥åˆ©ç”¨æ‰©å±•æ“ä½œç¬¦å®šä¹‰ä¸€ä¸ªæ”¶é›†å‚æ•°ç›´æ¥ä½¿ç”¨ï¼Œè€Œä¸ç”¨éº»çƒ¦`arguments` äº†
    
    ```jsx
    function getSum(...values) {
      let sum = 0;
      for (const item of values) {
        sum += item;
      }
      return sum;
    }
    ```
    
- å®é™…ä¸Šï¼Œä¸Šé¢çš„ä¾‹å­ä¸èƒ½å¾ˆå¥½çš„æ˜¾ç¤ºæ”¶é›†å‚æ•°å¯¹äº`arguments` çš„ä¼˜åŠ¿ï¼Œä¸‹é¢çš„å†™æ³•å±•ç¤ºäº†æ”¶é›†å‚æ•°èƒ½æ›´å¥½åˆ©ç”¨æ•°ç»„çš„å„ç§APIçš„ä¼˜åŠ¿
    
    ```jsx
    function getSum(...values) {
      return values.reduce((pre, cur) => pre+cur, 0);
    }
    ```
    

**ç»„åˆä½¿ç”¨**

- é™¤äº†èƒ½åˆ©ç”¨`Array` APIè¿™ç§ä¼˜åŠ¿å¤–ï¼Œæ”¶é›†å‚æ•°çš„å…¶ä»–ä¼˜åŠ¿åœ¨äºå®ƒå¯ä»¥å’Œå…¶ä»–å‘½åå‚æ•°ï¼ˆnamed parameterï¼‰ç»„åˆä½¿ç”¨ï¼Œä¸€èµ·å®šä¹‰å‡½æ•°
- ä¸è¿‡å› ä¸ºæ”¶é›†å‚æ•°çš„é•¿åº¦æ˜¯å¯å˜çš„ï¼Œå®ƒä¼šå°½å¯èƒ½å¤šçš„åŒ¹é…ä¼ å…¥çš„å‚æ•°ï¼Œæ‰€ä»¥**åªèƒ½æŠŠæ”¶é›†å‚æ•°ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°**ï¼Œå®ƒæ”¶é›†çš„æ˜¯å‰é¢çš„å‘½åå‚æ•°åŒ¹é…å®Œæ¯•åçš„**å…¶ä½™å‚æ•°**ï¼ˆ**remaining parameters**ï¼‰ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šå¾—åˆ°ç©ºæ•°ç»„
    
    ```jsx
    function ignoreFirst(firstValue, ...rest) {
      console.log(rest);
    }
    ignoreFirst(1); // []
    ignoreFirst(1, 2, 3); // [2,3]
    ignoreFirst(1, 2, 3, 4);// [2,3,4]
    ```
    
    - æ”¶é›†å‚æ•°çš„è‹±æ–‡åç§°ä¸ºRest Parameterï¼Œæ‰€ä»¥å¸¸ä½¿ç”¨`rest` ä½œä¸ºæ”¶é›†å‚æ•°çš„æ ‡è¯†ç¬¦

**ç®­å¤´å‡½æ•°ä½¿ç”¨åœºæ™¯**

- ç®­å¤´å‡½æ•°ä¸æ”¯æŒ`arguments`å¯¹è±¡ï¼Œä½†æ˜¯æ”¯æŒæ”¶é›†å‚æ•°çš„å®šä¹‰æ–¹å¼ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨æ‰©å±•æ“ä½œç¬¦å®ç°ä¸`arguments` ä¸€æ ·çš„é€»è¾‘
    
    ```jsx
    const getSumArrow = (...values) => {
      return values.reduce((x, y) => x + y, 0);
    };
    getSumArrow(1, 2, 3, 4); // 10
    ```
    
- ä»è¿™é‡Œä¹Ÿå¯ä»¥çœ‹æˆï¼Œæ”¶é›†å‚æ•°å¹¶ä¸ä¼šå½±å“`arguments` å¯¹è±¡ï¼ŒäºŒè€…æ˜¯ç›¸äº’ç‹¬ç«‹çš„è¯­æ³•ï¼Œå°±åƒ[æ‰©å±•å‚æ•°](6%20%E5%8F%82%E6%95%B0%E6%89%A9%E5%B1%95%E4%B8%8E%E6%94%B6%E9%9B%86%EF%BC%88Spread%20Arguments%20and%20Rest%20Parameters%EF%BC%89.md)ä¸­æ‰€è¿°ï¼š
    
    åœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œå¯¹äºå‡½æ•°ä½“ä¸­çš„`arguments` å¯¹è±¡è€Œè¨€ï¼Œå®ƒå¾—åˆ°çš„å°±æ˜¯æŒ‰ç…§è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥çš„**å·²è¢«æ‹†åˆ†**ï¼ˆ**being broken apart**ï¼‰æˆ**åˆ†ç¦»å½¢å¼**ï¼ˆ**separate pieces**ï¼‰çš„å‚æ•°ï¼Œè€Œä¸ä¼šçŸ¥é“æ‰©å±•æ“ä½œç¬¦çš„å­˜åœ¨
    
    ```jsx
    function getSum(...values) {
      console.log(arguments.length);
      console.log(arguments);
      arguments[0] = "k";
      console.log(arguments);
      console.log(values);
    }
    getSum(1, 2, 3, 4);
    // æ‰“å°
    4
    [Arguments] { '0': 1, '1': 2, '2': 3, '3': 4 }
    [ 1, 2, 3, 4 ]
    [Arguments] { '0': 'k', '1': 2, '2': 3, '3': 4 }
    ```
    
    <aside>
    ğŸ’¡ **æ³¨æ„ï¼š**ä½¿ç”¨æ”¶é›†å‚æ•°ï¼Œå› ä¸ºå½¢å¼å‚æ•°è¢«ç»„åˆæˆäº†ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥`arguments` å¯¹è±¡ä¸­çš„å…ƒç´ æ— æ³•å’ŒæŸä¸€ä¸ªå‘½åå‚æ•°**åŒæ­¥ï¼Œ**åŒæ—¶åœ¨ç»„åˆä½¿ç”¨çš„åœºæ™¯ä¸‹ï¼Œåœ¨æ”¶é›†å‚æ•°å‰çš„å•ä¸ªçš„å½¢å¼å‚æ•°**ä¹Ÿä¸èƒ½**åŒæ­¥
    
    ```jsx
    function ignoreRest(firstValue, ...rest) {
      arguments[0] = "k";
      console.log(firstValue); // ä¸ä¼šè¢«æ”¹å˜
    }
    ignoreRest(...[1, 2, 3, 4]);
    ```
    
    </aside>